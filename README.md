
# Документация проекта Django

## О проекте

Этот проект представляет собой веб-приложение на базе Django, предназначенное для управления продуктами и их фотографиями. В проекте реализован API, который позволяет получать список продуктов с фотографиями и фильтровать их по городам.

## Установка и настройка

### Предварительные требования

Перед началом убедитесь, что у вас установлены следующие компоненты:

- **Python** версии 3.10 или выше.
- **pip** – менеджер пакетов для Python.
- **Git** – система контроля версий для клонирования репозитория.

### Шаги для установки

1. **Клонирование репозитория**

   Сначала клонируйте репозиторий с исходным кодом проекта:

   ```bash
   git clone <URL_РЕПОЗИТОРИЯ>
   cd <ИМЯ_ПАПКИ_С_КОДОМ>
   ```

2. **Создание и активация виртуального окружения**

   Создайте виртуальное окружение для изоляции зависимостей проекта:

   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Windows используйте `venv\Scripts\activate`
   ```

3. **Установка зависимостей**

4. **Применение миграций**

   Создайте и примените миграции базы данных:

   ```bash
   python manage.py migrate
   ```

5. **Создание суперпользователя**

   Если вам нужно получить доступ к административной панели Django, создайте суперпользователя:

   ```bash
   python manage.py createsuperuser
   ```

6. **Запуск сервера разработки**

   Запустите сервер разработки Django:

   ```bash
   python manage.py runserver
   ```

   Теперь вы можете открыть приложение в браузере по адресу [http://127.0.0.1:8000/](http://127.0.0.1:8000/).

## URL-ы и маршруты

### Основные URL-ы

- **Административная панель:** `/admin/`
- **API для получения списка продуктов:** `/api/products/`

### URL-ы для API

- **Получение списка продуктов:** `GET /api/products/`
  - **Описание:** Возвращает список всех продуктов с их фотографиями и связями с городами.

## Модели

### Модель `City`

Модель `City` представляет собой город, к которому привязаны продукты.

- **Поля:**
  - `name`: Название города (CharField, до 100 символов)

  ```python
  class City(models.Model):
      name = models.CharField(max_length=100)
  ```

### Модель `Product`

Модель `Product` представляет собой продукт с фотографией и связью с городом.

- **Поля:**
  - `name`: Название продукта (CharField, до 100 символов)
  - `photo`: URL фотографии продукта (URLField)
  - `city`: Связь с моделью `City` (ForeignKey, обязательное поле)

  ```python
  class Product(models.Model):
      name = models.CharField(max_length=100)
      photo = models.URLField()
      city = models.ForeignKey(City, on_delete=models.CASCADE)
  ```

## Использование API

### Получение списка продуктов

- **URL:** `/api/products/`
- **Метод:** GET
- **Описание:** Возвращает список всех продуктов с их фотографиями.

**Пример ответа:**

```json
[
    {
        "id": 1,
        "name": "Apple products",
        "photo": "https://www.shutterstock.com/image-photo/stariy-oskol-russia-december-10-260nw-1872979819.jpg"
    },
    {
        "id": 2,
        "name": "Italy",
        "photo": "https://fileinfo.com/img/ss/xl/jpg_44-2.jpg"
    }
]
```

## Тестирование

### Запуск тестов

Для запуска тестов используйте команду:

```bash
python manage.py test
```

Тесты проверяют корректность работы API и моделей. 
### Добавление и выполнение тестов

- **Добавление тестов:** тестовые методы в файле `products/tests.py`.
- **Выполнение тестов:** Используйте команду `python manage.py test` для выполнения тестов.

## Ошибки и отладка

Если вы сталкиваетесь с ошибками, такими как `404 Page not found`, выполните следующие действия:

1. **Проверьте настройки маршрутизации в `urls.py`:** Убедитесь, что пути указаны правильно.
2. **Проверьте сервер разработки:** Убедитесь, что сервер запущен и работает корректно.
3. **Проверьте логи:** Просмотрите логи ошибок для получения дополнительной информации.
